# PTE · Pixiv → Eagle

One-click import Pixiv to Eagle (including ugoira→GIF); supports detail/list/selected modes; progress/ETA/cancellable; draggable panel with position memory; local or Eagle mode.

- **Installation (Recommended)**: Install from [GreasyFork](https://greasyfork.org/scripts/552563-pte-pixiv-eagle)

## Quick Start

### Installation Steps
1. Install Tampermonkey (or Violentmonkey)
2. Open GreasyFork and install the script
3. Visit Pixiv, and you'll see the **PTE** toolbar in the top right corner

### Interface Preview
<img
src="https://i.imgs.ovh/2025/11/03/7xVt6F.png" alt="Interface Preview 1" border="0">
<img
src="https://i.imgs.ovh/2025/10/14/72EAdq.png" alt="Interface Preview 2" border="0">

### Single Artwork Download Feature Preview
<img src="https://i.imgs.ovh/2025/11/03/7xzUOY.gif" alt="Download Preview"
border="0">

### Local Functions and Privacy
- Interaction with **Eagle** is completed through **local port** (default `http://localhost:41595`), data does not pass through third-party servers.
- GIF is generated by the browser using `gif.js`, and the worker script is fetched from jsDelivr and executed locally in **Blob Worker** mode.
- The script's external network access domains are only:
  - `i.pximg.net` (for Pixiv resources)
  - `cdn.jsdelivr.net` (only for fetching `gif.worker.js`)
  - `localhost` / `127.0.0.1` (communication with Eagle)
- No personal information is collected; all third-party libraries and sources are listed below.

### Prerequisites
Please ensure that **Eagle** is running on your machine and the local API is enabled (default [`http://localhost:41595`](http://localhost:41595)).
It is recommended to test on the **Pixiv detail page** on first use.

### Permissions and External Requests
- `@grant`: `GM_xmlhttpRequest`, `GM_download`
- `@connect`: `localhost` / `127.0.0.1` / `i.pximg.net` / `cdn.jsdelivr.net`

### External Libraries (imported via `@require`)
- `fflate@0.8.2` (compression/decompression)
- `gif.js@0.2.0` (GIF generation; *worker* code is fetched from jsDelivr and loaded in **Blob** form)

### Frequently Asked Questions
- **Button doesn't appear**: Confirm that the site is `pixiv.net` and wait for the page to load to `document-idle`.
- **Eagle connection failed**: Confirm that Eagle has been started and the local API is available.
- **GIF failed**: Try refreshing and retrying; if it's a very large ugoira, processing will take longer.
- **Cannot download**: Check the browser / script manager's cross-origin and download permission settings.

### References and Acknowledgments
This script references and draws inspiration from the following projects. Thanks to them (if there are any issues with the references, please contact me for removal):
- [Save Pixiv pictures to Eagle](https://greasyfork.org/scripts/419792-save-pixiv-pictures-to-eagle)
- [Pixiv2Eagle](https://greasyfork.org/scripts/533713-pixiv2eagle)
- [Pixiv Previewer](https://greasyfork.org/scripts/30766-pixiv-previewer)

## License

MIT
